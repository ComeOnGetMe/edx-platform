---
metadata:
    display_name: Math Problem with Adaptive Hint
    markdown: !!null
data: |
    <problem>
      <text>
        <script type="loncapa/python">
    from hint import evaluate
    from hint import cluster_functions
    from hint import filters

    n2 = random.randrange(3,6,1)#length of string
    solution = '(26^'+str(n2)+')-(25^'+str(n2)+')'


    def check(expect, ans):
      expect = expect.strip("\[")
      expect = expect.strip("\]")
      ans = ans.strip("'")
      ans = ans.strip("'")
      param = cluster_functions.make_params(expect, ans)
      if param == {}:
          return false
      return evaluate.evaluate(param)

    def hint_fn(answer_ids, student_answers, new_cmap, old_cmap):
      aid = answer_ids[0]
      ans = str(student_answers[aid])
      print 'hint_fn called, ans=', ans
      param = cluster_functions.make_params(solution, ans)
      hint = filters.universal_hint(param)
      if hint:
        hint = "&lt;font color='grey'&gt;Hint: {0}&lt;/font&gt;".format(hint)
      else:
        hint = redirect_hint('Hint', '123')
      new_cmap.set_hint_and_mode(aid,hint,'always')

        </script>
        <p>How many strings of length $n2 consisting of lower case English letters, and including at least one "x", are there?</p>
          <customresponse cfn="check" expect="\[(26^$n2)-(25^$n2)\]">
            <textline correct_answer="$solution" label="LABEL TEXT"/>
            <hintgroup hintfn="hint_fn" expect="\[(26^$n2)-(25^$n2)\]"/>
          </customresponse>
      </text>
    </problem>
